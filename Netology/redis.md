## Установка 

```
apt install redis
```
## Настройка[^1]

### Надо определиться с типом Бэкапа.

#### В Redis существует 3 модели работы с бэкапом:
    
    - RDB - создание бэкапов с определенными интервалами. Состоит из 1-ого файла;
    - AOF (append only file) - создание бэкапа после каждой записи данных (журналирование команд). Состоит из 2 файлов;
    - RDB+AOF - совмещает обе предыдущих модели, но по умолчанию будет восстанавливаться AOF т.к. имеет более актуальную информацию.
      Создание бэкапов так же можно отключить. По умолчанию включен RDB, а AOF отключен.
 
#### Настройка RDB 
 ```
 sudo vim /etc/redis/redis.conf
 ```
save <количество секунд> <количество изменений>
```
save 900 1
save 300 10
save 60 10000
```
> [!IMPORTANT]
> Т.е. выгрузка в файл происходит через определенный интервал и при условии какого-то количества изменений в базе. Если убрать эти строки, то вы отключите RDB.
> Создать бэкап можно так же через CLI выполнив одну из двух команд:
> SAVE - блокирует работу базы до создания бэкапа.
> BGSAVE - клонирует (fork()) существующий процесс Redis и выгружает его данные на диск. После этого процесс завершает работу. Таким образом нет блокировок, но возрастает требование к памяти.

















---
[^1]: https://fixmypc.ru/post/ustanovka-bazy-dannykh-redis-na-ubuntu-20/?ysclid=lq0xd738e1589656970
